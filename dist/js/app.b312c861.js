(function(t){function e(e){for(var s,i,u=e[0],a=e[1],c=e[2],f=0,h=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);m&&m(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,u=1;u<n.length;u++){var a=n[u];0!==o[a]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var m=a;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),o=n.n(s);o.a},1:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s,o=n("2b0e"),r=n("8c4f"),i=n("5f5b"),u=n("f87c"),a=n("8055"),c=n.n(a),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},f=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.open?n("div",[t.teamSelected?n("div",[t._v("\n      Choose the person who's team you'd like to be on:\n      "),n("button",{attrs:{type:"button"},on:{click:function(e){return t.chooseTeamSamuel()}}},[t._v(" Team Samuel")]),n("button",{attrs:{type:"button"},on:{click:function(e){return t.chooseTeamAmy()}}},[t._v(" Team Amy")]),n("div",[t._v("\n        If you really can't decide then click here to pick randomly:\n        "),n("button",{attrs:{type:"button"},on:{click:function(e){return t.chooseRandomTeam()}}},[t._v(" Random ")])])]):n("div",[n("Score"),t._v("\n      You're on team: "+t._s(t.team)+"\n      "),n("Question",{attrs:{team:t.team,active:!0}}),0!==t.questionNo?n("Results",{attrs:{team:t.team}}):t._e()],1)]):n("div",[t._v("\n    Waiting...\n  ")])])},l=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0===t.questionNo?n("div",[t._v("\n  waiting for quiz to start\n")]):n("div",[t.timeLeft>0?n("div",[n("b-alert",{attrs:{show:"",dismissible:""}},[t._v(" "+t._s(t.auto?"Warning, random option chosen! Choose for yourself in "+t.timeLeft+"second"+(t.timeLeft>1?"s":"")+"!":t.timeLeft+"second"+(t.timeLeft>1?"s":"")+"left!")+"\n    ")])],1):t._e(),n("div",[t._v("\n    Question "+t._s(t.questionNo)+"\n  ")]),n("div",[t._v("\n     "+t._s(t.questionText)+"\n  ")]),n("div",{staticClass:"optionContainer"},t._l(t.questionOptions,(function(e,s){return n("b-button",{key:s,staticClass:"option",class:{team:t.currentTeamChoice===s,player:t.currentChoice===s,answer:2===t.questionStage&&t.answer===s},attrs:{block:"",pill:"",variant:"outline-info",disabled:0!==t.questionStage&&t.currentChoice!==s,question:e},on:{click:function(e){return t.selectOption(s)}}},[n("span",{staticClass:"progress",style:{width:t.widths[s]+"%"}})])})),1)])},p=[],g=n("75fc"),v={name:"Question",data:function(){return{currentChoice:-1,auto:!1}},props:["team","active","locked"],computed:{questionNo:function(){return this.$store.getters.getQuestionNo},questionText:function(){return"amy"===this.team?this.$store.getters.getCurrentAmyQuestion.question:this.$store.getters.getCurrentSamQuestion.question},questionStage:function(){return this.$store.getters.getQuestionStage},questionOptions:function(){return"amy"===this.team?this.$store.getters.getCurrentAmyQuestion.options:this.$store.getters.getCurrentSamQuestion.options},timeLeft:function(){return this.$store.getters.getTimeLeft},answer:function(){return"amy"===this.team?this.$store.getters.getCurrentAmyAnswer:this.$store.getters.getCurrentSamAnswer},samVotes:function(){return this.$store.getters.getCurrentSamResults},amyVotes:function(){return this.$store.getters.getCurrentAmyResults},tieBreak:function(){return this.$store.getters.getTieBreak},currentTeamAmyChoice:function(){var t=Math.max.apply(Math,Object(g["a"])(this.amyVotes));if(0===t)return-1;for(var e=0;e<3;e++)if(this.amyVotes[this.tieBreak[e]]===t)return this.tieBreak[e];return-1},currentTeamSamChoice:function(){var t=Math.max.apply(Math,Object(g["a"])(this.samVotes));if(0===t)return-1;for(var e=0;e<3;e++)if(this.samVotes[this.tieBreak[e]]===t)return this.tieBreak[e];return-1},currentTeamChoice:function(){return"amy"===this.team?this.currentTeamAmyChoice:this.currentTeamSamChoice},widths:function(){return"amy"===this.team?this.amyWidths:this.samWidths},amyWidths:function(){var t=this.amyVotes.reduce((function(t,e){return t+e}),0);return this.amyVotes.map((function(e){return e/t*100}))},samWidths:function(){var t=this.samVotes.reduce((function(t,e){}),0);return this.samVotes.map((function(e){return e/t*100}))}},watch:{timeLeft:function(t){if(5===t&&-1==this.currentChoice){var e=Math.floor(4*Math.random());this.selectOption(e),this.auto=!0}},questionNo:function(){this.currentChoice=-1}},methods:{selectOption:function(t){this.active&&t!==this.currentChoice&&(this.auto=!1,-1!==this.currentChoice?this.$socket.client.emit("change_vote",{team:this.team,choice:t,prev:this.currentChoice}):this.$socket.client.emit("change_vote",{team:this.team,choice:t}),this.currentChoice=t)}}},y=v,S=(n("b4e6"),n("2877")),_=Object(S["a"])(y,d,p,!1,null,"57366df2",null),q=_.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  Results are in for question "+t._s(t.questionNo)+"\n  "+t._s(t.results)+"\n  "),2===t.questionStage?n("div",[t._v("\n    The correct answer is: "+t._s(t.answer)+"\n  ")]):t._e()])},w=[],$={name:"Results",data:function(){return{}},props:["team"],computed:{questionNo:function(){return this.$store.getters.getQuestionNo},results:function(){return"amy"===this.team?this.$store.getters.getCurrentAmyResults:this.$store.getters.getCurrentSamResults},questionStage:function(){return this.$store.getters.getQuestionStage},answer:function(){return"amy"===this.team?this.$store.getters.getCurrentAmyAnswer:this.$store.getters.getCurrentSamAnswer}},methods:{}},k=$,C=Object(S["a"])(k,b,w,!1,null,"4fca4919",null),Q=C.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"score-bar"},[n("div",{staticClass:"amy-score"},[t._v("\n  Amy: "+t._s(t.amyScore)+"\n")]),n("div",{staticClass:"sam-score"},[t._v("\n  Sam: "+t._s(t.samScore)+"\n")])])},O=[],N={name:"Score",data:function(){return{}},props:["team"],computed:{amyScore:function(){return this.$store.getters.getAmyScore},samScore:function(){return this.$store.getters.getSamScore}},methods:{}},T=N,R=(n("9c5c"),Object(S["a"])(T,A,O,!1,null,"6ec81398",null)),x=R.exports,j={name:"Quizer",data:function(){return{team:""}},computed:{teamSelected:function(){return"samuel"!==this.team&&"amy"!==this.team},open:function(){return this.$store.getters.getOpen},questionStage:function(){return this.$store.getters.getQuestionStage},questionNo:function(){return this.$store.getters.getQuestionNo}},components:{Question:q,Results:Q,Score:x},methods:{chooseTeamSamuel:function(){this.team="samuel"},chooseTeamAmy:function(){this.team="amy"},chooseRandomTeam:function(){this.team=Math.random()>.5?"Samuel":"Amy"}}},V=j,M=Object(S["a"])(V,h,l,!1,null,"b9fcda52",null),L=M.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.verified?n("div",[n("div",[t._v("\n      Server status:\n      "),n("div",[t._v(t._s(t.open?"Open":"Closed"))]),0!==t.questionNo?n("div",[n("div",[t._v(" On question "+t._s(t.questionNo))]),n("div",[t._v(t._s(0===t.questionStage?"Showing Question":1===t.questionStage?"Question finished":"Showing answers"))]),n("div",[t._v(" "+t._s(t.ended?"On Final Results!":"Not finished"))])]):n("div",[t._v("\n        Quiz not started\n      ")])]),n("div",[n("button",{attrs:{type:"button"},on:{click:function(e){return t.toggleServer()}}},[t._v(" "+t._s(t.toggleText))]),t.ended?t._e():n("button",{attrs:{type:"button"},on:{click:function(e){return t.nextStage()}}},[t._v(" "+t._s(t.nextStageText))]),0!==t.questionNo?n("button",{attrs:{type:"button"},on:{click:function(e){return t.resetServer()}}},[t._v(" Reset Quiz ")]):t._e()]),0!==t.questionNo?n("div",[n("Score"),n("div",[t._v("\n        Current Amy Question:\n        "),n("Question",{attrs:{team:t.amy,active:!1}}),t._v("\n        Current Sam Question:\n        "),n("Question",{attrs:{team:t.sam,active:!1}})],1),n("div",[t._v("\n        Current Amy Results:\n        "),n("Results",{attrs:{team:t.amy}}),t._v("\n        Current Sam Results:\n        "),n("Results",{attrs:{team:t.sam}})],1)],1):t._e()]):n("div",[t._v("\n    Enter password:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])])},W=[],E={name:"Controller",computed:{verified:function(){return"test"===this.password},nextStageText:function(){return 0===this.questionNo?"Start Quiz":0===this.questionStage?"Send time warning for question ".concat(this.questionNo):1===this.questionStage?"Show answers for question ".concat(this.questionNo):"Move onto question ".concat(this.questionNo+1)},open:function(){return this.$store.getters.getOpen},toggleText:function(){return this.open?"Close Server":"Open Server"},questionNo:function(){return this.$store.getters.getQuestionNo},questionStage:function(){return this.$store.getters.getQuestionStage},ended:function(){return this.$store.getters.getMaxQuestionNo==this.questionNo&&2===this.questionStage},amyScore:function(){return this.$store.getters.getAmyScore},samScore:function(){return this.$store.getters.getSamScore},amyAnswer:function(){return this.$store.getters.getCurrentAmyAnswer},amyVotes:function(){return this.$store.getters.getCurrentAmyResults},samAnswer:function(){return this.$store.getters.getCurrentSamAnswer},samVotes:function(){return this.$store.getters.getCurrentSamResults}},data:function(){return{verfied:!1,password:"",amy:"amy",sam:"samuel"}},components:{Question:q,Results:Q,Score:x},methods:{toggleServer:function(){this.$socket.client.emit("open_update",!this.open)},resetServer:function(){this.$socket.client.emit("question_no_update",0),this.$socket.client.emit("question_stage_update",0),this.$socket.client.emit("reset_vote"),this.$socket.client.emit("reset_score")},nextStage:function(){0===this.questionNo?(this.$socket.client.emit("question_no_update",1),this.$socket.client.emit("question_stage_update",0)):0===this.questionStage?this.startQuestionWarning():1===this.questionStage?(this.$socket.client.emit("question_stage_update",2),setTimeout(this.calculateScores(),3e3)):(this.$socket.client.emit("question_no_update",this.questionNo+1),this.$socket.client.emit("question_stage_update",0),this.$socket.client.emit("reset_vote"))},startQuestionWarning:function(){var t=this,e=5;this.$socket.client.emit("question_end_warning",e);var n=setInterval((function(){e>0?(e--,t.$socket.client.emit("question_end_warning",e)):(t.$socket.client.emit("question_end_warning",-1),t.$socket.client.emit("question_stage_update",1),clearInterval(n))}),1e3)},calculateScores:function(){var t=this,e=0===this.amyVotes[this.amyAnswer]||this.amyVotes.filter((function(e,n){return n!==t.amyAnswer})).some((function(e,n){return e>t.amyVotes[t.amyAnswer]})),n=e?this.amyScore:this.amyScore+1,s=0===this.samVotes[this.samAnswer]||this.samVotes.filter((function(e,n){return n!==t.samAnswer})).some((function(e,n){return e>t.samVotes[t.samAnswer]})),o=s?this.samScore:this.samScore+1;this.$socket.client.emit("score_update",{amy:n,sam:o})}}},P=E,U=Object(S["a"])(P,B,W,!1,null,"56771d04",null),z=U.exports,I={name:"app",components:{Quizer:L,Controller:z}},J=I,F=(n("034f"),Object(S["a"])(J,m,f,!1,null,null,null)),D=F.exports,G=n("2f62"),H=n("bd86"),K="updateOpen",X="updateQuestionStage",Y="updateTimeLeft",Z="updateAmyScore",tt="updateSamScore",et="updateTieBreak",nt={open:!1,questionStage:0,timeLeft:-1,amyScore:0,samScore:0,tieBreak:[0,1,2,3]},st={getCounter:function(t){return t.counter},getOpen:function(t){return t.open},getQuestionStage:function(t){return t.questionStage},getTimeLeft:function(t){return t.timeLeft},getAmyScore:function(t){return t.amyScore},getSamScore:function(t){return t.samScore},getTieBreak:function(t){return t.tieBreak}},ot={socket_openUpdate:function(t,e){t.commit(K,e)},socket_questionStageUpdate:function(t,e){t.commit(X,e)},socket_questionEndWarning:function(t,e){t.commit(Y,e)},socket_scoreUpdate:function(t,e){var n=e.amyScore,s=e.samScore;t.commit(Z,n),t.commit(tt,s)},socket_tieBreakUpdate:function(t,e){t.commit(et,e)}},rt=(s={},Object(H["a"])(s,K,(function(t,e){t.open=e})),Object(H["a"])(s,X,(function(t,e){t.questionStage=e})),Object(H["a"])(s,Y,(function(t,e){t.timeLeft=e})),Object(H["a"])(s,Z,(function(t,e){t.amyScore=e})),Object(H["a"])(s,tt,(function(t,e){t.samScore=e})),Object(H["a"])(s,et,(function(t,e){t.tieBreak=e})),s),it={state:nt,actions:ot,mutations:rt,getters:st},ut="updateQuestionNo",at={questionNo:1,amyQuestions:[{question:"is this a question?",options:["A","B","C","D"],correct:0},{question:"is this me?",options:["E","F","G","H"],correct:1},{question:"is this you?",options:["I","J","K","L"],correct:2}],samQuestions:[{question:"is this a sam question?",options:["M","N","O","P"],correct:3},{question:"is this sam?",options:["Q","R","S","T"],correct:1},{question:"is this?",options:["U","V","W","X"],correct:2}]},ct={getCurrentAmyQuestion:function(t){return t.amyQuestions[t.questionNo-1]},getCurrentSamQuestion:function(t){return t.samQuestions[t.questionNo-1]},getCurrentAmyAnswer:function(t){return t.amyQuestions[t.questionNo-1].correct},getCurrentSamAnswer:function(t){return t.samQuestions[t.questionNo-1].correct},getQuestionNo:function(t){return t.questionNo},getMaxQuestionNo:function(t){return Math.min(t.amyQuestions.length,t.samQuestions.length)}},mt={socket_questionNoUpdate:function(t,e){t.commit(ut,e)}},ft=Object(H["a"])({},ut,(function(t,e){t.questionNo=e})),ht={state:at,actions:mt,mutations:ft,getters:ct},lt="updateVotes",dt={amyResults:[0,0,0,0],samResults:[0,0,0,0]},pt={getCurrentAmyResults:function(t){return t.amyResults},getCurrentSamResults:function(t){return t.samResults}},gt={socket_voteUpdate:function(t,e){t.commit(lt,e)}},vt=Object(H["a"])({},lt,(function(t,e){var n=e.amyVotes,s=e.samVotes;t.amyResults=n,t.samResults=s})),yt={state:dt,actions:gt,mutations:vt,getters:pt};o["default"].use(G["a"]);var St=new G["a"].Store({debug:!1,modules:{socket:it,questions:ht,results:yt}}),_t=St;n("f9e3"),n("2dd8");n.d(e,"socket",(function(){return bt})),o["default"].config.productionTip=!1;var qt=window.location.origin,bt=c()(qt,{transports:["websocket"]});o["default"].use(u["a"],bt,{store:_t}),o["default"].use(r["a"]),o["default"].use(i["a"]);var wt=new r["a"]({routes:[{path:"/",component:L},{path:"/controller",component:z}]});new o["default"]({render:function(t){return t(D)},store:_t,router:wt}).$mount("#app")},"64a9":function(t,e,n){},8769:function(t,e,n){},"9c5c":function(t,e,n){"use strict";var s=n("8769"),o=n.n(s);o.a},b4e6:function(t,e,n){"use strict";var s=n("bf8b"),o=n.n(s);o.a},bf8b:function(t,e,n){}});
//# sourceMappingURL=app.b312c861.js.map